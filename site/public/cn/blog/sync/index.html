<!DOCTYPE html>
<html class="no-js" lang="zh-cn"><head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="This is meta description">

<meta name="generator" content="Hugo 0.97.3" />

<title>如何使用云同步</title>

<!-- Mobile Specific Meta -->
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Favicon -->
<link rel="shortcut icon" type="image/x-icon" href="https://paperlib.app/images/favicon.ico" />

<!-- Stylesheets -->
<!-- Themefisher Icon font -->
<link rel="stylesheet" href="https://paperlib.app/plugins/themefisher-font/style.css">
<!-- bootstrap.min css -->
<link rel="stylesheet" href="https://paperlib.app/plugins/bootstrap/dist/css/bootstrap.min.css">
<!-- Lightbox.min css -->
<link rel="stylesheet" href="https://paperlib.app/plugins/lightbox2/dist/css/lightbox.min.css">
<!-- Slick Carousel -->
<link rel="stylesheet" href="https://paperlib.app/plugins/slick-carousel/slick/slick.css">
<link rel="stylesheet" href="https://paperlib.app/plugins/slick-carousel/slick/slick-theme.css">
<!-- Main Stylesheet -->


<link rel="stylesheet" href="https://paperlib.app/css/style_aefd.min.css" media="screen">


<script async src="https://www.googletagmanager.com/gtag/js?id=G-MK8FN2RB1C"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-MK8FN2RB1C', { 'anonymize_ip': false });
}
</script>


</head>

    <body id="body">
        <!-- Start Preloader -->
<div id="preloader">
    <div class="preloader">
        <div class="sk-circle1 sk-child"></div>
        <div class="sk-circle2 sk-child"></div>
        <div class="sk-circle3 sk-child"></div>
        <div class="sk-circle4 sk-child"></div>
        <div class="sk-circle5 sk-child"></div>
        <div class="sk-circle6 sk-child"></div>
        <div class="sk-circle7 sk-child"></div>
        <div class="sk-circle8 sk-child"></div>
        <div class="sk-circle9 sk-child"></div>
        <div class="sk-circle10 sk-child"></div>
        <div class="sk-circle11 sk-child"></div>
        <div class="sk-circle12 sk-child"></div>
    </div>
</div>
<!-- End Preloader --><!-- Fixed Navigation -->

<section class="header navigation">

    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <nav class="navbar navbar-expand-lg">
                    <a class="navbar-brand" href="/cn">
                        <img src="https://paperlib.app/images/logo.png" alt="Paperlib" style="height: 35px">
                        <span class="navbar-brand-text">Paperlib</span>
                    </a>
                    <div class="d-flex align-items-center">
                        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation"
                            aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="tf-ion-android-menu"></span>
                        </button>
                        
                        <div id="drapeaux" class="select-language d-block d-lg-none">
                            
                            
                            






    <a href="https://paperlib.app/en">en

</a>

                            
                            






    <a href="https://paperlib.app/cn" class="selected">cn

</a>

                            
                        </div>
                    </div>
                    <div class="collapse navbar-collapse" id="navigation">
                        <ul class="navbar-nav ml-auto">
                            <li class="nav-item">
                                <a class="nav-link" href="https://paperlib.app/">Home</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://paperlib.app/cn/download">download</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://paperlib.app/cn/blog">blog</a>
                            </li>
                            
                            <li class="nav-item">
                                <a class="nav-link" href="https://github.com/GeoffreyChen777/paperlib">Github</a>
                            </li>
                            
                            <li class="nav-item d-none d-lg-block">
                                
                                <div class="select-language nav-link">
                                    
                                    
                                    






    <a href="https://paperlib.app/en">en

</a>

                                    
                                    






    <a href="https://paperlib.app/cn" class="selected">cn

</a>

                                    
                                </div>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
        </div>
    </div>
</section><div id="content">

<section class="blog-single section">
    <div class="container">
        <div class="row">
            <div class="col-md-8 mx-auto">
                <h2>如何使用云同步</h2>
                <div class="post-meta mb-5">
                    <ul class="list-inline">
                        <li class="list-inline-item">
                            <span>By</span>
                            Geo
                        </li>
                        <li class="list-inline-item">
                            <span>at</span>
                            <span>5 May 2022</span>
                        </li>
                    </ul>
                </div>
                <p>Paperlib 使用 MongoDB Atlas 作为云数据库后端。用户可以自己创建自己的云数据库，并使用它在你的所有机器上享受秒级别的同步功能。大陆的同学可能延迟稍微高一点。MongoDB Atlas 给用户每月提供了一定量的免费额度，该额度对于 Paperlib 绰绰有余，甚至可以和同学分享一个数据库。设置好后，你的数据可以安全地存储在云端。而不用自己维护任何东西。建立云数据库的方式非常简单，对于各位 CSer 理论上不是问题。</p>
<h3 id="建立云数据库">建立云数据库</h3>
<p>1.打开 <a href="https://account.mongodb.com/account/login">https://account.mongodb.com/account/login</a>，注册并登陆到你的 MongoDB Atlas 账户。账户欢迎页面按照如下设置。</p>
<p><img src="/images/blog/sync/1.png" alt=""></p>
<p>2.选择我们的数据库 Plan。我们选 Free 的。</p>
<p><img src="/images/blog/sync/2.png" alt=""></p>
<p>3.数据库配置。选择离你最近的或者网络最畅通的服务器。比如大陆北方同学选日本，南方选香港，英国的选爱尔兰伦敦之类。这里以作者所在的英国为例。选择爱尔兰</p>
<p><img src="/images/blog/sync/3.png" alt=""></p>
<p>接下来设置数据库管理员</p>
<p><img src="/images/blog/sync/4.png" alt="">
<img src="/images/blog/sync/5.png" alt=""></p>
<p>4.来到 App Services 页面，创建 APP。</p>
<p><img src="/images/blog/sync/6.png" alt=""></p>
<p>选择 Build your own APP</p>
<p><img src="/images/blog/sync/7.png" alt=""></p>
<p>链接 Atlas 云数据库，重命名，以及部署地点</p>
<p><img src="/images/blog/sync/8.png" alt=""></p>
<p>至此数据库已经创建完毕。</p>
<hr>
<h3 id="添加用户">添加用户</h3>
<p>用户是所有可以在该云数据库里存储数据的人，你可以和你实验室的同学共享一个数据库，你们之间的数据互不干扰。对于Paperlib存储的内容来说，免费额度足够很多人一起共享一个数据库，当然你也可以自己独享。</p>
<p>1.点击左侧的 App Users 界面。点击 Authentication Providers。</p>
<p><img src="/images/blog/sync/user1.png" alt=""></p>
<p>2.选择打开 Email Password 登陆。User Confirmation Method 选择 Automatically confirm users。Password Reset URL 随便写，这里不需要这个功能。 点击 Save Draft。</p>
<p><img src="/images/blog/sync/user2.png" alt=""></p>
<p>3.点击上方的 <code>REVIEW DRAFT &amp; DEPLOY</code> 来应用我们刚才的设置。</p>
<p><img src="/images/blog/sync/user3.png" alt=""></p>
<p>4.回到 User 界面，点击 <code>Add New User</code> 我们可以添加我们的用户了。</p>
<p><img src="/images/blog/sync/user4.png" alt=""></p>
<p>5.至此，用户创建完毕。</p>
<hr>
<h3 id="创建数据库表">创建数据库表</h3>
<p>MongoDB Atlas 是非关系型数据库，我们只需要创建 Data Scheme。而且其支持自动根据客户端数据创建。所以我们并不需要手动定义数据结构。</p>
<p>1.在 Device Sync 界面，点击 Start Sync。这会让我们 APP 的数据和后端数据库开始同步。弹出界面，我们点击 <code>No thanks, continue to Sync</code>。</p>
<p><img src="/images/blog/sync/9.png" alt=""></p>
<p>2.之后我们打开 Development Mode。至此，MongoDB Altas 会根据我们 Paperlib 传来的数据自动创建 Data Scheme。其余设置如下图所示，<strong>注意 partition 的 require 选项取消</strong>。</p>
<p><img src="/images/blog/sync/10.png" alt="">
<img src="/images/blog/sync/11.png" alt="">
<img src="/images/blog/sync/12.png" alt=""></p>
<p>3.点击 Enable Sync。</p>
<p>4.再次点击上方的 <code>REVIEW DRAFT &amp; DEPLOY</code> 来应用我们刚才的设置。</p>
<p>5.至此，所有的云数据库相关设置完毕。</p>
<hr>
<h3 id="设置-paperlib-连接-mongodb-atlas">设置 Paperlib 连接 MongoDB Atlas</h3>
<p>1.打开 Paperlib 设置界面，Cloud 选项卡。输入 MongoDB Atlas 的 APP ID。</p>
<p><img src="/images/blog/sync/13.png" alt=""></p>
<p>2.输入你刚才创建的用户的账号密码。</p>
<p>3.登陆就可以了。如果成功了话，我们添加论文之后会在 Log 界面看到 write 的 log。</p>
<p><img src="/images/blog/sync/19.png" alt=""></p>
<p>至此，所有的云同步设置完毕。云数据库的 Development Mode 可以选择在第一次同步之后关掉。因为 Data Scheme 已经被自动创建了。</p>
<p>关于 PDF 文件的同步，你可以使用 Onedrive 等工具在不同设备间来同步，Paperlib 也提供了 webDAV 功能。在设备 A, 选择对应路径 <code>C:/Onedrive/mypaperlib</code> 作为库路径. 在设备 B, 选择对应的 <code>/user/xxx/Onedrive/mypaperlib</code>。</p>

            </div>
        </div>
    </div>
</section>


        </div><!-- Footer Start -->
<footer id="footer">
    <div class="top-footer">
        <div class="container">
            <div class="row justify-content-end">
                <div class="col-sm-6 col-md-6 col-lg-6">
                    <h3>Copyright 2021. All rights reserved.</h3>
                    <span>Design is inspired by Hexo Obsidian, developed by Geo</span>
                </div>

                <div class="col-sm-3 col-md-3 col-lg-3">
                    <h3>链接</h3>
                    <ul>
                        
                        <li>
                            <a href="https://geoch.top/about/">about me</a>
                        </li>
                        
                        <li>
                            <a href="https://github.com/GeoffreyChen777/paperlib">Github</a>
                        </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</footer>
<!-- end footer -->


<!-- Essential Scripts -->

<!-- jQuery -->
<script src="https://paperlib.app/plugins/jquery/dist/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.form/4.3.0/jquery.form.min.js" integrity="sha384-qlmct0AOBiA2VPZkMY3+2WqkHtIQ9lSdAsAn5RUJD/3vA5MKDgSGcdmIv4ycVxyn" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.1/dist/js.cookie.min.js"></script>
<!-- Bootstrap -->
<script src="https://paperlib.app/plugins/bootstrap/dist/js/popper.min.js"></script>
<script src="https://paperlib.app/plugins/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- Parallax -->
<script src="https://paperlib.app/plugins/parallax/jquery.parallax-1.1.3.js"></script>
<!-- lightbox -->
<script src="https://paperlib.app/plugins/lightbox2/dist/js/lightbox.min.js"></script>
<!-- Slick Carousel -->
<script src="https://paperlib.app/plugins/slick-carousel/slick/slick.min.js"></script>
<!-- Smooth Scroll js -->
<script src="https://paperlib.app/plugins/smooth-scroll/dist/js/smooth-scroll.min.js"></script>
<!-- Main Script -->

<script src="https://paperlib.app/js/script.min.js"></script>




    </body>
</html>
