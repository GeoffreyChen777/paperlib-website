<!DOCTYPE html>
<html lang="zh-cn"><head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="This is meta description">

<meta name="generator" content="Hugo 0.97.3" />

<title>如何使用云同步</title>

<!-- Mobile Specific Meta -->
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Favicon -->
<link rel="shortcut icon" type="image/x-icon" href="https://paperlib.app/images/favicon.ico" />

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
<!-- Main Stylesheet -->

<link rel="stylesheet" href="https://paperlib.app/css/style_aefd.min.css" media="screen">


<script async src="https://www.googletagmanager.com/gtag/js?id=G-MK8FN2RB1C"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-MK8FN2RB1C', { 'anonymize_ip': false });
}
</script>


<!-- Stylesheets -->

<link rel="stylesheet" href="https://paperlib.app/css/tailwindcss_output_adsf.min.css" media="screen">

</head>

    <body id="body" class="bg-[#100e17] text-neutral-300">
        <div class="mx-auto w-full px-5 lg:w-[900px] lg:px-0"><!-- Fixed Navigation -->
<div class="flex flex-col">
  <div class="flex py-2 lg:py-5 justify-between">
    <a
      class="ml-0 lg:ml-2 flex space-x-1"
      href="/cn"
    >
      <img
        class="h-10"
        src="https://paperlib.app/images/logo.png"
        alt="Paperlib"
      />
      <span class="my-auto uppercase text-lg gradient-text"
        >Paperlib</span
      >
    </a>
    <div class="my-auto hidden lg:flex">
      <div class="flex space-x-5">
        <div class="text-neutral-400 hover:text-cyan-300">
          <a href="https://paperlib.app/"
            >Home</a
          >
        </div>
        
        <div class="text-neutral-400 hover:text-cyan-300">
          <a href="https://paperlib.app/cn/download">Download</a>
        </div>
        
        <div class="text-neutral-400 hover:text-cyan-300">
          <a href="https://paperlib.app/cn/blog">Blog</a>
        </div>
        
        <div class="text-neutral-400 hover:text-cyan-300">
          <a href="https://github.com/GeoffreyChen777/paperlib">Github</a>
        </div>
        
        <div class="text-base my-auto">
           

    <a href="https://paperlib.app/en" class="text-neutral-400 hover:text-cyan-300 uppercase">en

</a>
  

    <a href="https://paperlib.app/cn" class="text-neutral-200 hover:text-cyan-300 uppercase hidden">中文

</a>
 
        </div>
      </div>
    </div>
    <div id="dropdown" class="my-auto block lg:hidden">
      <i class="bi-list"></i>
    </div>
  </div>

  <div
    id="dropdown-menu"
    class="space-y-2 items-center flex invisible flex-col absolute top-20 left-0 bg-[#100e17] pb-10"
  >
    <div class="text-neutral-400 hover:text-cyan-300">
      <a href="https://paperlib.app/"
        >Home</a
      >
    </div>
    
    <div class="text-neutral-400 hover:text-cyan-300">
      <a href="https://paperlib.app/cn/download">Download</a>
    </div>
    
    <div class="text-neutral-400 hover:text-cyan-300">
      <a href="https://paperlib.app/cn/blog">Blog</a>
    </div>
    
    <div class="text-neutral-400 hover:text-cyan-300">
      <a href="https://github.com/GeoffreyChen777/paperlib">Github</a>
    </div>
    
    <div>
       

    <a href="https://paperlib.app/en" class="text-neutral-400 hover:text-cyan-300 uppercase">en

</a>
  

    <a href="https://paperlib.app/cn" class="text-neutral-200 hover:text-cyan-300 uppercase hidden">中文

</a>
 
    </div>
    <hr class="border-neutral-600 h-1 w-screen" />
  </div>
</div>

<script>
  const dropdownButton = document.querySelector("#dropdown");
  const dropdownList = document.querySelector("#dropdown-menu");

  dropdownButton.addEventListener("click", () => {
    dropdownList.classList.toggle("invisible");
  });
</script>
<div id="content">

<div class="px-2 lg:px-20">
  <div class="mt-10 lg:mt-20 text-2xl font-semibold">如何使用云同步</div>
  <div class="mb-5">
      <div class="flex space-x-2 text-sm text-neutral-400">
        <span>By
        Geo
        </span>
        <span>at 5 May 2022</span>
      </div>
  </div>
  <div class="text-justify" id="blog-content">
  <p>Paperlib 使用 MongoDB Atlas 作为云数据库后端。用户可以自己创建自己的云数据库，并使用它在你的所有机器上享受秒级别的同步功能。大陆的同学可能延迟稍微高一点。MongoDB Atlas 给用户每月提供了一定量的免费额度，该额度对于 Paperlib 绰绰有余，甚至可以和同学分享一个数据库。设置好后，你的数据可以安全地存储在云端。而不用自己维护任何东西。建立云数据库的方式非常简单，对于各位 CSer 理论上不是问题。</p>
<h3 id="建立云数据库">建立云数据库</h3>
<p>1.打开 <a href="https://account.mongodb.com/account/login">https://account.mongodb.com/account/login</a>，注册并登陆到你的 MongoDB Atlas 账户。账户欢迎页面按照如下设置。</p>
<p><img src="/images/blog/sync/n1.png" alt=""></p>
<p>2.选择我们的数据库 Plan。我们选 Free 的。</p>
<p><img src="/images/blog/sync/n2.png" alt=""></p>
<p>3.数据库配置。选择离你最近的或者网络最畅通的服务器。比如大陆北方同学选日本，南方选香港，英国的选爱尔兰伦敦之类。这里以作者所在的英国为例。选择爱尔兰</p>
<p><img src="/images/blog/sync/n3.png" alt=""></p>
<p>接下来设置数据库管理员</p>
<p><img src="/images/blog/sync/n4.png" alt="">
<img src="/images/blog/sync/n5.png" alt=""></p>
<p>4.来到 App Services 页面，创建 APP。</p>
<p><img src="/images/blog/sync/n6.png" alt=""></p>
<p>选择 Build your own APP</p>
<p><img src="/images/blog/sync/n7.png" alt=""></p>
<p>链接 Atlas 云数据库，重命名，以及部署地点</p>
<p><img src="/images/blog/sync/n8.png" alt=""></p>
<p>至此数据库已经创建完毕。</p>
<hr>
<h3 id="添加用户">添加用户</h3>
<p>用户是所有可以在该云数据库里存储数据的人，你可以和你实验室的同学共享一个数据库，你们之间的数据互不干扰。对于Paperlib存储的内容来说，免费额度足够很多人一起共享一个数据库，当然你也可以自己独享。</p>
<p>1.点击左侧的 App Users 界面。点击 Authentication Providers。</p>
<p><img src="/images/blog/sync/user1.png" alt=""></p>
<p>2.选择打开 Email Password 登陆。User Confirmation Method 选择 Automatically confirm users。Password Reset URL 随便写，这里不需要这个功能。 点击 Save Draft。</p>
<p><img src="/images/blog/sync/user2.png" alt=""></p>
<p>3.点击上方的 <code>REVIEW DRAFT &amp; DEPLOY</code> 来应用我们刚才的设置。</p>
<p><img src="/images/blog/sync/user3.png" alt=""></p>
<p>4.回到 User 界面，点击 <code>Add New User</code> 我们可以添加我们的用户了。</p>
<p><img src="/images/blog/sync/user4.png" alt=""></p>
<p>5.至此，用户创建完毕。</p>
<hr>
<h3 id="创建数据库表">创建数据库表</h3>
<p>MongoDB Atlas 是非关系型数据库，我们只需要创建 Data Scheme。而且其支持自动根据客户端数据创建。所以我们并不需要手动定义数据结构。</p>
<p>1.在 Device Sync 界面，点击 Start Sync。这会让我们 APP 的数据和后端数据库开始同步。弹出界面，我们点击 <code>No thanks, continue to Sync</code>。</p>
<p><img src="/images/blog/sync/n9.png" alt=""></p>
<p>2.之后我们打开 Development Mode。至此，MongoDB Altas 会根据我们 Paperlib 传来的数据自动创建 Data Scheme。其余设置如下图所示，<strong>注意 partition 的 require 选项取消</strong>。</p>
<p><img src="/images/blog/sync/n10.png" alt="">
<img src="/images/blog/sync/n11.png" alt="">
<img src="/images/blog/sync/n12.png" alt=""></p>
<p>3.点击 Enable Sync。</p>
<p>4.再次点击上方的 <code>REVIEW DRAFT &amp; DEPLOY</code> 来应用我们刚才的设置。</p>
<p>5.至此，所有的云数据库相关设置完毕。</p>
<hr>
<h3 id="设置-paperlib-连接-mongodb-atlas">设置 Paperlib 连接 MongoDB Atlas</h3>
<p>1.打开 Paperlib 设置界面，Cloud 选项卡。输入 MongoDB Atlas 的 APP ID。</p>
<p><img src="/images/blog/sync/n13.png" alt=""></p>
<p>2.输入你刚才创建的用户的账号密码。</p>
<p>3.登陆就可以了。如果成功了话，我们添加论文之后会在 Log 界面看到 write 的 log。</p>
<p><img src="/images/blog/sync/n19.png" alt=""></p>
<p>至此，所有的云同步设置完毕。云数据库的 Development Mode 可以选择在第一次同步之后关掉。因为 Data Scheme 已经被自动创建了。</p>
<p>关于 PDF 文件的同步，你可以使用 Onedrive 等工具在不同设备间来同步，Paperlib 也提供了 webDAV 功能。在设备 A, 选择对应路径 <code>C:/Onedrive/mypaperlib</code> 作为库路径. 在设备 B, 选择对应的 <code>/user/xxx/Onedrive/mypaperlib</code>。</p>

  </div>
</div>


        </div><!-- Footer Start -->
<div id="footer" class="flex justify-between p-5 text-neutral-500 mt-36 py-20 border-t-[1px] border-cyan-900">
  <div class="flex flex-col text-neutral-400">
    <h3>Copyright 2022. All rights reserved.</h3>
  </div>

  <div class="flex flex-col">
    <h3 class="text-neutral-400 mb-1">链接</h3>
    <ul class="text-sm">
      
      <li class="hover:text-neutral-400">
        <a href="https://geoch.top/">About me</a>
      </li>
      
      <li class="hover:text-neutral-400">
        <a href="https://github.com/GeoffreyChen777/paperlib">Github</a>
      </li>
      
    </ul>
  </div>
</div>
<!-- end footer --> <!-- Essential Scripts -->

        </div>
    </body>
</html>
